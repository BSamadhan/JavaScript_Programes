<DOCTYPE html>
<html>
<body>

<h2>Error Handling Ways in Javascript</h2>



<script>
    // 1. try... catch - you can use a try..catch block to catch and handle exception. This allows you to specify a block of code to try and if an exception is thrown within that block.
    // async function fetchDataFromAPI(){
    //     try{
    //         const response = await fetch('https://jsonplaceholder.typicode.com/users');
    //         if(!response.ok){
    //             throw new Error(`${response.status}`);
    //         }
    //         const data = await response.json()
    //         console.log('Data fetched successfully')
    //     }catch(error){
    //         console.log('throw error', error)
    //     }
    // }
    // fetchDataFromAPI();

  


    // 2. throw - you can manually throw an exception using the throw statement. This is  useful when you want to create and throw custom error in you code.



    // 3. try catch finally - you can use a try...catch...finally block to ensure that some code is executed  regardless of whether an error occurs or not. The finally block is often used for cleanup or resource management. 
    // 4. Promise Error handling - When working with promises, you can use catch() to handle errors that  occur within a promise chain.

    function fetchdataAPI(){
        return new Promise((resolve,reject)=>{
            fetch('https://jsonplaceholder.typicode.com/users')
            .then((resp)=>{
                if(!resp.ok){
                    reject('request failed')
                }
                return resp.json()
            })
            .then((data)=>{
                resolve(data)
            }).catch((error)=>{
                reject(error)
            })
        })
    }
    fetchdataAPI()
    .then((data)=> {
        console.log('data fetched successfully',data)
    }).catch((error)=>{
        console.log('Error', error)
    })



    // 5. Async/await Error handling - When using async/await, you can try...catch blocks to handle errors that occur within asynchronous functions.      
</script>

</body>
</html>
